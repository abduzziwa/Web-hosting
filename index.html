<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Upload uw website</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="styles.css" />
  </head>
  <body>
    <div class="container mt-5">
      <div class="row justify-content-center">
        <div class="col-md-6 form-container">
          <h2 class="form-heading">Upload uw website</h2>
          <form
            id="uploadForm"
            method="post"
            enctype="multipart/form-data"
            action="/upload"
          >
            <div class="mb-3">
              <label for="fullname" class="form-label">Full Name:</label>
              <input
                type="text"
                class="form-control"
                id="fullname"
                name="fullname"
                required
              />
            </div>

            <div class="mb-3">
              <label for="email" class="form-label">Email:</label>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                required
              />
            </div>

            <div class="mb-3">
              <label for="phone" class="form-label">Phone Number:</label>
              <input
                type="tel"
                class="form-control"
                id="phone"
                name="phone"
                required
              />
            </div>

            <div class="mb-3">
              <label for="domain" class="form-label">Domain Name:</label>
              <input
                type="text"
                class="form-control"
                id="domain"
                name="domain"
                required
              />
            </div>

            <div class="mb-3">
              <label for="directory" class="form-label">Directory:</label>
              <select
                class="form-select selectOption"
                id="directory"
                name="directory"
                required
              >
                <option value="" selected disabled>Select Directory</option>
              </select>
            </div>

            <div class="mb-3">
              <label for="htmlfile" class="form-label">HTML File:</label>
              <input
                type="file"
                class="form-control"
                id="htmlfile"
                name="htmlfile"
                accept=".html"
                required
              />
            </div>

            <div class="mb-3">
              <label for="cssfile" class="form-label">CSS File:</label>
              <input
                type="file"
                class="form-control"
                id="cssfile"
                name="cssfile"
                accept=".css"
              />
            </div>

            <div class="mb-3">
              <label for="jsfile" class="form-label">JavaScript File:</label>
              <input
                type="file"
                class="form-control"
                id="jsfile"
                name="jsfile"
                accept=".js"
              />
            </div>

            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
        </div>
      </div>
    </div>
    <script>
      // let directories = [
      //   "/var/www/html/Web-hosting/backendcode/websites/Website1",
      //   "/var/www/html/Web-hosting/backendcode/websites/Website2",
      //   "/var/www/html/Web-hosting/backendcode/websites/Website3",
      //   "/var/www/html/Web-hosting/backendcode/websites/Website4",
      //   "/var/www/html/Web-hosting/backendcode/websites/Website5",
      // ];

      // FOR TESTING ON A LOCAL WINDOWS MACHINE
      directories = [
        "C:\\Users\\Gebruiker\\Desktop\\web\\Web-hosting\\backend code\\websites\\website1",
        "C:\\Users\\Gebruiker\\Desktop\\web\\Web-hosting\\backend code\\websites\\website2",
        "C:\\Users\\Gebruiker\\Desktop\\web\\Web-hosting\\backend code\\websites\\website3",
      ];

      const selectElement = document.getElementById("directory");
      const formElement = document.getElementById("directoryForm");

      directories.forEach((directory, index) => {
        const option = document.createElement("option");
        option.value = directory;
        const dirIndex = index + 1;
        option.textContent = `WebsiteDir ${dirIndex}`; // Set text content to index
        selectElement.appendChild(option);
      });

      formElement.addEventListener("submit", function (event) {
        event.preventDefault(); // Prevent default form submission

        const selectedOption =
          selectElement.options[selectElement.selectedIndex];
        if (selectedOption) {
          const selectedIndex = selectElement.selectedIndex;
          const selectedDirectory = directories.splice(selectedIndex, 1)[0];
          selectElement.remove(selectedIndex);
          console.log("Selected Directory:", selectedDirectory);
          console.log("Updated Directories:", directories);
        }
      });
    </script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JavaScript -->
    <script src="script.js"></script>
  </body>
</html>
